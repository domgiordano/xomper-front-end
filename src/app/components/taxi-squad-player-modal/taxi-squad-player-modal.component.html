<div class="modal-backdrop" (click)="onClose()"></div>

<div class="modal-card" [@zoomAnimation]>
  <button class="close-btn" (click)="onClose()">âœ•</button>

  <div class="player-card" [ngStyle]="getTeamStyle(player.getTeam())">
    <div class="player-header">
      <img
        [src]="
          player.photoError
            ? 'assets/img/luke.PNG'
            : 'https://sleepercdn.com/content/nfl/players/thumb/' +
              player.player_id +
              '.jpg'
        "
        (error)="player.photoError = true"
        alt="{{ player.getFullName() }}"
        class="player-pic"
      />

      <div class="player-basic">
        <h1>{{ player.getFullName() }}</h1>

        <!-- Top line: team logo, position, number -->
        <div class="player-top-meta">
          <img
            [src]="
              !player.team || player.team.toUpperCase() === 'FA'
                ? 'assets/img/nfl.png'
                : 'https://sleepercdn.com/images/team_logos/nfl/' +
                  player.team.toLowerCase() +
                  '.png'
            "
            alt="{{ player.team || 'FA' }}"
            class="team-logo"
          />
          <span class="position-number">
            {{ player.team || 'FA' }} | {{ player.getDisplayPosition() }} | #{{
              player.number
            }}
          </span>
        </div>

        <!-- Bottom line: team name, owner, draft round -->
        <div class="player-bottom-meta">
          <span><strong>Current Team:</strong> {{ player.ownerTeamName }}</span>
          <span><strong>Owner:</strong> {{ player.ownerDisplayName }}</span>
          <span>
            <strong>Drafted:</strong>
            {{
              player.draftRound === -1
                ? 'Undrafted'
                : 'Round ' + player.draftRound
            }}
          </span>
        </div>
      </div>
    </div>

    <div class="player-stats-grid">
      <div class="stat-box"><strong>Age:</strong> {{ player.getAge() }}</div>
      <div class="stat-box">
        <strong>Height:</strong> {{ getHeightFeetInches(player.height) }}
      </div>
      <div class="stat-box">
        <strong>Weight:</strong> {{ player.weight }} lbs
      </div>
      <div class="stat-box">
        <strong>College:</strong> {{ player.getCollege() }}
      </div>
      <div class="stat-box">
        <strong>Experience:</strong> {{ player.years_exp }} yrs
      </div>
      <div class="stat-box">
        <strong>Depth Chart:</strong> {{ player.getDepthChartInfo() }}
      </div>
      <div class="stat-box"><strong>Status:</strong> {{ player.status }}</div>
      <div class="stat-box">
        <strong>Injury:</strong> {{ player.injury_status ?? 'Healthy' }}
      </div>
    </div>
  </div>

  <button class="steal-btn" (click)="onSteal()">
    Steal for {{ getStealPickText(player.draftRound) }} Pick
  </button>
</div>
