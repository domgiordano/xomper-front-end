<div class="taxi-page">
  <app-loader [loading]="loading"></app-loader>

  <div class="taxi-container" *ngIf="!loading && taxiPlayers.length > 0">
    <h2 class="group-title">Taxi Squad</h2>
    <div class="roster">
      <div class="player-card" *ngFor="let player of taxiPlayers" [ngStyle]="getTeamStyle(player.team)">
        <div class="player-header">
          <img [src]="'https://sleepercdn.com/content/nfl/players/thumb/' + player.player_id + '.jpg'"
               (error)="player.photoError = true" alt="{{ player.full_name }}" class="player-pic">

          <div class="player-info">
            <div class="name-row">
              <h2 class="player-name">{{ player.full_name }}</h2>
              <img [src]="'https://sleepercdn.com/images/team_logos/nfl/' + (player.team?.toLowerCase() || 'nfl') + '.png'"
                   alt="{{ player.team || 'FA' }}" class="team-logo">
            </div>
            <p class="player-meta">
              {{ player.team || 'FA' }} • {{ player.position }} • {{ player.number }}
            </p>
          </div>
        </div>

        <button class="view-more-btn" [ngStyle]="getTeamButtonStyle(player.team)"
                (click)="openPlayerModal(player, $event)">
          {{ player.showDetails ? 'Hide Details' : 'View More' }}
        </button>

        <div class="player-details" *ngIf="player.showDetails">
          <p><strong>Age:</strong> {{ player.age }}</p>
          <p><strong>Height / Weight:</strong> {{ player.height }}" / {{ player.weight }} lbs</p>
          <p><strong>College:</strong> {{ player.college }}</p>
          <p><strong>Experience:</strong> {{ player.years_exp }} years</p>
          <p><strong>Status:</strong> {{ player.status }}</p>
          <p><strong>Depth Chart:</strong> {{ player.depth_chart_position }} ({{ player.depth_chart_order }})</p>
        </div>
      </div>
    </div>
  </div>
</div>

<app-player-modal *ngIf="selectedPlayer" [player]="selectedPlayer" [startPos]="modalStart"
                  (close)="closePlayerModal()">
</app-player-modal>
